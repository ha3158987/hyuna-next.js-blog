{"pageProps":{"postData":{"id":"seo-improvement-challenge","contentHtml":"<h2>배경</h2>\n<p><strong>비상!!!!!</strong> 😱</p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/643e2487-41ae-42ff-911c-dfe0c32c6207\" alt=\"image-1\"></p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/9d9d2191-d1e2-4a5a-bffd-c1f1184a381a\" alt=\"image-2\"></p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/677b3128-7649-4206-8980-bef2e9519d28\" alt=\"image-3\"></p>\n<p>다행히 Ahrefs에서 무엇이 개선되어야 하는지도 가이드라인을 주고 있어서 하나씩 해결해가며 점수를 올려보기로 했다 💪</p>\n<h2>해결방법</h2>\n<h3>1. sitemap 수정 (12 ➡️ 41)</h3>\n<p>기존에 만들어둔 sitemap은 News 메뉴 하위의 페이지들과 크게 두개로\n스틱페이 '<a href=\"https://sticpay.com/ko-KR/news/news_list\">News 페이지</a>' 하위에 있는 expo, blog 페이지들은 작성된 지 상당기간 지나 유효하지 않은 internal link들이 많았다.  그러나 모든 게시글들을 확인하며 유효하지 않은 링크들을 삭제하는 것은 무모한 짓을 뿐더러 리소스도 충분하지 않았다........ 결국 News 페이지를 제외한 sitemap을 생성하기로 했다. </p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/4177cb36-25ae-457a-bda3-07026f053cb7\" alt=\"image-4\"></p>\n<p>점수는 41점으로 향상되었지만 여전히 아래 이슈들이 보여졌다.</p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/30ccb04a-d809-4526-9c79-56339997e7f5\" alt=\"image-5\"></p>\n<h3>2. robots.txt에서 Allow 와 Disallow 명시적으로 표시 (41 ➡️ 63)</h3>\n<p>Google Search Console 또한 좋은 힌트가 되었다. </p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/f01318ed-93a6-49c5-85cb-7df925a3fdf8\" alt=\"image-7\"></p>\n<p>robots.txt 파일에서 현재 크롤링 되어서는 안되는 페이지나 더이상 쓰이지 않는 페이지들을 Disallow로 선언해주었다. </p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-title class_\">User</span>-<span class=\"hljs-attr\">agent</span>: *\n\n<span class=\"hljs-title class_\">Allow</span>: /\n<span class=\"hljs-title class_\">Allow</span>: <span class=\"hljs-regexp\">/about_sticpay/</span>\n<span class=\"hljs-title class_\">Allow</span>: <span class=\"hljs-regexp\">/open_account/m</span>erchant-fast-track/\n\n<span class=\"hljs-title class_\">Disallow</span>: <span class=\"hljs-regexp\">/about/</span>\n<span class=\"hljs-title class_\">Disallow</span>: <span class=\"hljs-regexp\">/mail_template/</span>\n<span class=\"hljs-title class_\">Disallow</span>: <span class=\"hljs-regexp\">/mail_sender/</span>\n<span class=\"hljs-title class_\">Disallow</span>: <span class=\"hljs-regexp\">/news/</span>*\n<span class=\"hljs-title class_\">Disallow</span>: <span class=\"hljs-regexp\">/open_account/m</span>erchant/\n<span class=\"hljs-title class_\">Disallow</span>: <span class=\"hljs-regexp\">/stic_card/</span>\n<span class=\"hljs-title class_\">Disallow</span>: <span class=\"hljs-regexp\">/support/</span>\n<span class=\"hljs-title class_\">Disallow</span>: <span class=\"hljs-regexp\">/merchant/</span>\n<span class=\"hljs-title class_\">Disallow</span>: <span class=\"hljs-regexp\">/partners/</span>\n\n</code></pre>\n<p>수정된 파일을 적용하자 63점까지 Health Score가 향상되었다.\n<img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/9c376259-90b4-4ece-8b64-11ce5d328228\" alt=\"image-8\"></p>\n<h3>3. Double slash in URL 컨텐츠 수정 (63 ➡️ 68)</h3>\n<ul>\n<li>Orphan page (has no incoming internal links)</li>\n</ul>\n<p>news 페이지는 admin에서 잘못된 링크를 수정하거나, robots.txt에 new_list 링크를 disallow로 추가하는 등 위 이슈에 대해 추가 핸들링을 진행하니 5점이 추가로 향상되었다.</p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/0230d313-3e01-4b1e-ab35-d8eb9b4de512\" alt=\"image-9\"></p>\n<h3>4. Missing reciprocal hreflang (no return-tag)</h3>\n<p>추가로 hreflang 태그로 감싸진 그룹의 모든 페이지가 동일한 x-default 태그를 갖고 있도록 수정했다.</p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/d697b6b9-78f7-4105-a2f0-28c0102374e9\" alt=\"image-10\"></p>\n<p><strong>BEFORE</strong>\n<img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/3e24ae82-6e29-497c-8f64-8cfb21253dc8\" alt=\"image-11\"></p>\n<p><strong>AFTER</strong>\n<img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/c0acbed0-36ee-4f54-8bf8-8fa441fc687a\" alt=\"image-12\"></p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">NextSeo</span> = (<span class=\"hljs-params\">{ path, lang }: NextSeoProps</span>) => {\n  <span class=\"hljs-keyword\">const</span> reciprocal = [{ <span class=\"hljs-attr\">hrefLang</span>: <span class=\"hljs-string\">'x-default'</span>, <span class=\"hljs-attr\">href</span>: <span class=\"hljs-string\">`<span class=\"hljs-subst\">${BASEURL}</span>/<span class=\"hljs-subst\">${path}</span>`</span> }];\n  <span class=\"hljs-keyword\">const</span> alternatedLang = supportedLngs\n    .<span class=\"hljs-title function_\">map</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">lang</span>) =></span> {\n      <span class=\"hljs-keyword\">return</span> { <span class=\"hljs-attr\">hrefLang</span>: lang, <span class=\"hljs-attr\">href</span>: <span class=\"hljs-title function_\">href</span>(path, lang) };\n    })\n    .<span class=\"hljs-title function_\">filter</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">alternate</span>) =></span> alternate.<span class=\"hljs-property\">hrefLang</span> !== lang);\n\n  <span class=\"hljs-keyword\">return</span> <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">Seo</span> <span class=\"hljs-attr\">canonical</span>=<span class=\"hljs-string\">{href(path,</span> <span class=\"hljs-attr\">lang</span>)} <span class=\"hljs-attr\">languageAlternates</span>=<span class=\"hljs-string\">{[...reciprocal,</span> <span class=\"hljs-attr\">...alternatedLang</span>]} /></span></span>;\n};\n\n</code></pre>\n<h3>5. 400, 4xx 페이지 링크 수정</h3>\n<p>URL에 중복된 부분이 있는 링크의 경우 중복부분을 삭제하는 작업을 진행했다.\n<img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/a93950a9-ef81-44af-b4f9-f4c7d1290990\" alt=\"image-13\"></p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/c8b6480c-85cf-40f1-a276-6e76cb656e13\" alt=\"image-14\"></p>\n<h3>6. Canonical URL has no incoming internal links</h3>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/6fc4a24f-5e27-4247-86d5-8d43b98072bb\" alt=\"image-15\"></p>\n<p>support 페이지는 아래 스크린샷처럼 하위에 탭이 있어서 항상 쿼리스트링으로 탭 이름까지 물고 들어올 수 밖에 없다. 즉, https://sticpay.com/support 로 진입하는 링크가 웹 안에 존재하지 않는다는 뜻이다. (/support?tab=customer로 바로 진입) 이로 인해 incoming internal links 오류가 나고 있었다. \nsupport 페이지를 들어갈 수 없도록 만들고, sitemap.xml 에서 support를 제거, support?tab=customer support?tab=faq를 추가했다.</p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/1db91d04-0f5e-4248-80f4-ec9a0eee84bb\" alt=\"image-16\"></p>\n<pre><code class=\"hljs language-ini\">// Support/index.tsx\n  useEffect(() => {\n    const <span class=\"hljs-attr\">tab</span> = router.query.tab<span class=\"hljs-comment\">;</span>\n    if (!tab) router.replace(`/support?<span class=\"hljs-attr\">tab</span>=customer`)<span class=\"hljs-comment\">;</span>\n\n    if (<span class=\"hljs-attr\">tab</span> === <span class=\"hljs-string\">'faq'</span>) {\n      setKey('faq')<span class=\"hljs-comment\">;</span>\n    } else {\n      setKey('customer')<span class=\"hljs-comment\">;</span>\n    }\n  }, <span class=\"hljs-section\">[router.query.tab]</span>)<span class=\"hljs-comment\">;</span>\n\n\n... 생략\n\n  return (\n    &#x3C;>\n      &#x3C;NextSeo <span class=\"hljs-attr\">path</span>={`support?tab=<span class=\"hljs-variable\">${key}</span>`} lang={i18n.language} />\n      &#x3C;Wrapper>\n      ...\n    &#x3C;/>\n  )\n\n</code></pre>\n<h2>결과</h2>\n<h3>1. 페이지 진입률 증가</h3>\n<p>키워드 검색 노출이 향상되면서 특정 페이지의 진입률이 폭발적으로 증가했다!!</p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/e8c53fdf-e756-4adb-b4bb-da69cdf2063b\" alt=\"image-17\"></p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/d9d7091f-fcf6-40c7-8af7-08622e9a1d15\" alt=\"image-18\"></p>\n<p>마케팅 팀에서 확인해준 바로는 SEO개선으로 인해 키워드 검색이 잘 노출되어서 진입한 사용자가 늘어난 것으로 보여진다.</p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/039ca711-b191-4943-a035-fdee1015d149\" alt=\"image-19\"></p>\n<p>실제로 해당 키워드로 구글 검색 시 가장 상위에 스틱페이 페이지가 노출되는 것을 확인할 수 있었다!</p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/babe9d7d-5181-4f8b-9c26-fce982041a88\" alt=\"image-20\"></p>\n<h3>2. Health Score 향상 (12 ➡️ 100)</h3>\n<p>개선사항 프로덕션 반영 후 Ahref에서 다시 Health Score를 측정했더니 큰 폭으로 향상된 점을 확인할 수 있었다.</p>\n<p>최종적으로 12점에서 100점으로 향상되었다 👍</p>\n<p><img src=\"https://github.com/ha3158987/hyuna-next.js-blog/assets/65105537/c9c1ba23-a218-48f4-bd4f-a2673ebb3826\" alt=\"image-21\"></p>\n","title":"SEO Health Score 올리기 챌린지","date":"2023-09-17"}},"__N_SSG":true}